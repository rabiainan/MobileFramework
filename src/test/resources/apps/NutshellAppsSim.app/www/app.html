<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>My Form</title>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi, viewport-fit=cover" />
        <meta name="description" content="">
        <meta name="author" content="">
        <meta http-equiv="Content-Security-Policy"
              content="default-src 'unsafe-inline' 'unsafe-eval' data:* gap://* file://*
              https://us-central1-inbound-lexicon-142610.cloudfunctions.net/
              https://europe-west1-nutshell-apps-client-instances.cloudfunctions.net/
              https://europe-west1-nutshell-uat.cloudfunctions.net/
              https://us-central1-nutshell-container.cloudfunctions.net/
              https://nutshell-apps-client-instances.appspot.com/
              https://nutshell-uat.appspot.com/
              https://fonts.gstatic.com/ https://*.googleapis.com
              http://*.nutshellapps.co.uk https://*.nutshellapps.co.uk http://*.nutshellapps.com https://*.nutshellapps.com;
        script-src 'self' 'unsafe-inline' 'unsafe-eval' https://*.nutshellapps.com/  https://*.googleapis.com/
        http://192.168.128.174:8080/ http://172.16.1.129:8080/ http://172.16.2.247:8080/ http://10.100.8.5:8080/
        http://192.168.1.3:8080/ http://192.168.1.7:8080 http://192.168.1.237:8080/ http://localhost:8080/
        http://192.168.128.159:8080/ https://*.googleapis.com http://192.168.1.10:8001/ http://192.168.1.11:5000/
        http://192.168.0.4:8080/ http://192.168.0.11:8080/ http://192.168.1.11:8080/ http://192.168.1.12:8080/
        http://192.168.1.14:8080/ http://192.168.1.67:8080/ http://192.168.128.61:8080/ http://192.168.0.28:8080/;
        style-src 'self' 'unsafe-inline' https://*.googleapis.com/;
        media-src data: * blob: ;
        img-src 'self' data: android-webview-video-poster: * ;">

       <!-- <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' data:* gap://*;
            style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/;
            img-src *;
            media-src *;
            connect-src *">-->

<!--        <link href="lib/toastr-legacy/toastr.css" rel="stylesheet">-->
        <link href="css/loadingSpinner.css" rel="stylesheet">
        <link href="lib/toastr-2.1.4/toastr.css" rel="stylesheet">
        <link href="lib/toastr-2.1.4/custom.css" rel="stylesheet">
        <link href="css/app.css" rel="stylesheet">
        <link href="css/navDrawer.css" rel="stylesheet">
        <link href="css/roboto.css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
        <link href="css/loading-bar-custom.css" rel="stylesheet" type="text/css">
        <link href="css/cordova-camera-capture-custom.css" rel="stylesheet" type="text/css">
        <link href="lib/jquery-ui-1.12.1.custom/jquery-ui.structure.css" rel="stylesheet">
        <link href="lib/jquery-ui-1.12.1.custom/jquery-ui.theme.css" rel="stylesheet">
        <link href="lib/jquery-confirm/query-confirm.css" rel="stylesheet">

        <script src="js/auth/auth.js"></script>
        <script src="lib/7.19.1_firebase.js"></script>
        <script src="lib/jquery.js"></script>
        <script src="lib/progressbar.js"></script>
        <script src="lib/toastr-2.1.4/toastr.js"></script>
        <script src="js/toastrAlerts.js"></script>
        <script src="js/onlineOffline.js"></script>
        <script src="js/customUrlHandler.js"></script>
        <script src="lib/jquery.json-2.4.js"></script>
        <script src="cordova.js"></script>
        <script src="lib/json_sans_eval.js"></script>
        <script src="lib/binaryajax.js"></script>
        <script src="lib/exif.js"></script>
        <script src="lib/hammer.js"></script>
        <script src="lib/jquery.hammer.js"></script>
        <script src="lib/jquery.touchevents.js"></script>
        <script src="lib/jquery.touchSwipe.js"></script>
        <script src="lib/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
        <script src="lib/jquery-confirm/query-confirm.js"></script>
        <script src="lib/eventbus.min.js"></script>
        <script src="js/navBar.js"></script>
        <script src="js/db/containerDatabaseManager.js"></script>
        <script src="js/sync/dataStructuresInjector.js"></script>
        <script src="js/dialogControllerJQUI.js"></script>
        <script src="js/dialogControllerJQConfirm.js"></script>
        <script src="js/utils/cameraPluginPatch.js"></script>

        <script src="js/capi/deploymentRequest.js"></script>

        <script src="js/repositories/configuration/configRepo.js"></script>
        <script src="js/repositories/configuration/configRepoLocal.js"></script>
        <script src="js/repositories/configuration/configRepoRemote.js"></script>
        <script src="js/repositories/dbMigrationsRepo.js"></script>
        <script src="js/repositories/deploymentsRepo.js"></script>
        <script src="js/repositories/dataStructuresRepo.js"></script>
        <script src="js/repositories/appStateRepo.js"></script>
        <script src="js/repositories/transactionsRepo.js"></script>
        <script src="js/repositories/microAppsRepo.js"></script>
        <script src="js/repositories/contactsRepo.js"></script>
        <script src="js/repositories/nutshellMessageRepo.js"></script>
        <script src="config/config.js"></script>
        <script src="config/configManager.js"></script>
        <script src="js/utils/deviceLogger.js"></script>
        <script src="js/remoteLogger.js"></script>
        <script src="js/nutshellAnalytics.js"></script>
        <script src="js/services/deploymentsService.js"></script>
        <script src="js/services/dataStructureService.js"></script>
        <script src="js/services/transactionsService.js"></script>
        <script src="js/services/autoLaunchService.js"></script>
        <script src="js/init/firebaseService.js"></script>
        <script src="js/services/microAppService.js"></script>
        <script src="js/services/appStateService.js"></script>
        <script src="js/services/dialogService.js"></script>
        <script src="js/services/appLauncherService.js"></script>
        <script src="js/services/contactsService.js"></script>
        <script src="js/services/networkService.js"></script>
        <script src="js/services/nutshellMessageService.js"></script>
        <script src="js/services/brandingService.js"></script>
        <script src="js/services/deepLink/deepLinkService.js"></script>
        <script src="js/services/deepLink/deepLinkHandlerApp.js"></script>
        <script src="js/utils/utils.js"></script>
        <script src="js/utils/appSettingsHelper.js"></script>
        <script src="js/utils/ns.js"></script>
        <script src="js/utils/nsNavigator.js"></script>
        <script src="js/utils/contactsFormatter.js"></script>

        <!-- Models -->
        <script src="js/models/nutshellMessage.js"></script>
        <script src="js/models/branding.js"></script>

        <!-- MVP components -->
        <script src="js/mvp/nsEvents.js"></script>
        <script src="js/mvp/loadingSpinner/loadingSpinnerView.js"></script>
        <script src="js/mvp/loadingSpinner/loadingSpinnerPresenter.js"></script>
        <script src="js/mvp/loadingSpinner/loadingSpinnerModel.js"></script>
        <script src="js/mvp/screens/app/appScreenModel.js"></script>
        <script src="js/mvp/screens/app/appScreenView.js"></script>
        <script src="js/mvp/screens/app/appScreenPresenter.js"></script>
        <script src="js/mvp/nutshellMessageApp/nutshellMessageModel.js"></script>
        <script src="js/mvp/nutshellMessageApp/nutshellMessageView.js"></script>
        <script src="js/mvp/nutshellMessageApp/nutshellMessagePresenter.js"></script>
        <script src="js/mvp/nutshellMessageApp/nutshellMessageQueue.js"></script>

        <script src="js/capi/capi.js"></script>
        <script src="js/capi/capiState.js"></script>
        <script src="js/capi/capiDialog.js"></script>
        <script src="js/capi/capiApp.js"></script>
        <script src="js/capi/capiContacts.js"></script>
        <script src="js/capi/capiNetwork.js"></script>

        <!-- Make sure this is loaded last as it attached ondeviceready listener.-->
        <script src="js/app.js"></script>

        <!-- compiler scripts -->
        <script src="js/shared/dataVariant.js"></script>
        <script src="js/shared/dataStructure.js"></script>
        <script src="js/shared/database.js"></script>
        <script src="js/shared/remoteDb.js"></script>
        <script src="js/sync/sqlLiteDb.js"></script>
        <script src="js/shared/databaseManager.js"></script>
        <script src="js/shared/jsonpService.js"></script>
        <script src="js/shared/jsonpMultipartService.js"></script>
        <script src="lib/moment.js"></script>

        <!-- Bootstrap the app here -->
        <script type="text/javascript" charset="utf-8">
            document.addEventListener("deviceready", onDeviceReady, false);
            document.addEventListener("offline", changeScriptTagOffline, false);
            document.addEventListener("online", changeScriptTagOnline, false);
        </script>

    </head>

    <body class="appContainer">
        <div id="progress-bar-container">
            <div id="progress-bar" ></div>
        </div>
        <div id="loading-spinner-container">
            <div class="loading-spinner container">
                <div id="loading-spinner"></div>
                <div class="text"></div>
            </div>
        </div>
        <div class="side-menu">
            <ul class="nav navbar-nav side-menu-nav-bar" id="appNavBar">
                <li class="homePage" onclick="onHomeClick()">
                    <img class="small" src="img/back_to_apps.png"/>
                    <span>Back to Apps</span>
                </li>
                <li class="logout" onclick="Auth.confirmLogout()">
                    <img class="small" src="img/logout3.png" />
                    <span>Logout</span>
                </li>
            </ul>
            <div class="debug_console container">
                <div class="debug_console content">
                </div>
            </div>
            <p class="expiry_time"></p>
            <p class="branding" onclick="brandingClickListener(event)">NUTSHELLAPPS.COM</p>
            <div id="sideMenuWarning"></div>
        </div>
        <div id="mask" onclick="NavBar.toggle(false)"></div>
        <div id="cover">
            <div align="center" class="fond">
                <div class="contener_general">
                    <div class="contener_mixte"><div class="ballcolor ball_1">&nbsp;</div></div>
                    <div class="contener_mixte"><div class="ballcolor ball_2">&nbsp;</div></div>
                    <div class="contener_mixte"><div class="ballcolor ball_3">&nbsp;</div></div>
                    <div class="contener_mixte"><div class="ballcolor ball_4">&nbsp;</div></div>
                </div>
                <img class="rotate_device_image" src="img/phone.png" alt="Rotate Device" />
                <p class="web_service">Downloading app content to your device. This may take a little while, but only happens once.
                    <span class="not_wifi"><b>Wi-Fi connection is recommended.</b></span>
                </p>
                <p class="rotate_device"></p>
            </div>
        </div>
        <div class="blackout"></div>
        <div class="container">
            <div class="span12 appHeader">
                <table>
                    <tbody>
                        <tr>
                            <td class="header-icon"></td>
                            <td class="title_bar">
                                <p id="title_header"></p>
                            </td>
                            <td class="header-icon">
                                <img class="small side-menu-button" src="img/side-menu2.png" id="appSideMenu" onclick="NavBar.toggle(false)"/>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div id="connectionWarningBanner"></div>
            </div>
            <div class="applicationData"></div>
            <input type="hidden" id="image-capture-data" value="" />
        </div>

        <!-- This will be used instead of OS dialog because we want custom HTML in it.-->
        <div class="capi dialog" style="display: none">
            <div class="dialog content"></div>
        </div>

    </body>
</html>
